function containsObject(e,a){var t;for(t=0;t<a.length;t++)if(a[t]._links.self==="https://api.twitch.tv/kraken/streams/"+e.name)return!0;return!1}function coderChannels(e,a,t){channelsHtml+='<div class="user" id='+e.name+">",channelsHtml+=e.logo?'<img class="logo" src="'+encodeURI(e.logo)+'"':'<img class="logo" src="http://placehold.it/50x50"',channelsHtml+=' alt="'+e.name+'">',channelsHtml+='<h2 class="name">'+e.display_name+"</h2>",e.bio&&(channelsHtml+='<span class="bio">'+e.bio+"</span>"),channelsHtml+=' <span class="channel"><a href="http://twitch.tv/'+e.name+'">Home</a></span>',containsObject(e,streamsArray)||(channelsHtml+="<p>This account is inactive :(</p>"),channelsHtml+="</div>"}function addChannelStatus(e,a,t){null!==e.stream&&(console.log(e.stream,e.stream.channel.name),statusHtml.innerHTML='<img src="'+e.stream.preview.medium+'"><a href="http://twitch.tv/'+e.stream.channel.name+'">Watch Now</a><p>'+e.stream.game+"<br/> Viewers: "+e.stream.viewers+"</p>",document.getElementById(e.stream.channel.name).appendChild(statusHtml))}var streamsArray=[],usersArray=[],coders=["freecodecamp","storbeck","terakilobyte","brunofin","habathcx","thomasballinger","noobs2ninjas","beohoff","massansc","kindafunnygames","amazhs"],getData=function(e,a,t){for(var n=0;n<a.length;n++){var s=new XMLHttpRequest,r="https://api.twitch.tv/kraken/"+e+"/"+a[n];s.open("GET",r,!1),s.onreadystatechange=function(){if(4===s.readyState&&200===s.status){var e=JSON.parse(s.responseText);console.log(e),t.push(e)}},s.onerror=function(){console.log("connection error")},s.send()}};getData("users",coders,usersArray),getData("streams",coders,streamsArray);var channelsHtml="",statusHtml=document.createElement("span");statusHtml.setAttribute("class","active"),usersArray.forEach(coderChannels),document.getElementById("coders").innerHTML=channelsHtml,streamsArray.forEach(addChannelStatus);